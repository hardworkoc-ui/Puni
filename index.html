<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Streak Rank ‚Äî No Excuses</title>
  <meta name="description" content="Minimal streak ‚Üí rank page with medals, progress bar, and local save. Built for fast daily motivation." />
  <style>
    :root{
      --bg:#0b0f14; --panel:#111827; --muted:#9ca3af; --text:#f3f4f6; --accent:#22c55e; --accent-2:#06b6d4; --warn:#f59e0b; --danger:#ef4444;
      --ring: 0 0 0 2px rgba(34,197,94,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 600px at 80% -10%,rgba(34,197,94,.08),transparent 60%),radial-gradient(900px 500px at -10% 20%,rgba(6,182,212,.08),transparent 60%),var(--bg); color:var(--text); font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;}
    .wrap{max-width:860px;margin:28px auto;padding:20px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.00)); border:1px solid rgba(255,255,255,.06); border-radius:22px; padding:22px; box-shadow:0 20px 50px rgba(0,0,0,.35)}
    .row{display:flex;gap:14px;flex-wrap:wrap}
    .grow{flex:1 1 320px}
    h1{margin:0 0 8px;font-size:28px;letter-spacing:.2px}
    h2{margin:14px 0 8px;font-size:18px;color:var(--muted)}
    .title-badge{display:flex;align-items:center;gap:12px}
    .medal{font-size:32px;filter:drop-shadow(0 8px 12px rgba(0,0,0,.35))}
    .rank{font-size:22px;font-weight:800;letter-spacing:.6px}
    .stat-grid{display:grid;grid-template-columns:repeat(3,minmax(160px,1fr));gap:12px;margin-top:14px}
    .stat{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:16px}
    .stat .v{font-size:26px;font-weight:800}
    .muted{color:var(--muted)}
    .bar{height:12px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,.06)}
    .bar>i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent-2));}
    .ladder{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:center}
    .ladder div{padding:10px 12px;border-radius:12px}
    .ladder div:nth-child(3n+1){background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06)}
    .chip{font:600 12px/1 system-ui;background:rgba(255,255,255,.08);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.06)}
    .controls{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-top:16px}
    input,button{font:600 14px system-ui;border-radius:12px;border:1px solid rgba(255,255,255,.1);padding:12px 14px;background:#0f1420;color:var(--text)}
    input:focus,button:focus{outline:none;box-shadow:var(--ring)}
    button{cursor:pointer}
    .ghost{background:transparent}
    .warn{background:linear-gradient(180deg,#1e293b,#0f172a);border-color:rgba(245,158,11,.35)}
    .danger{background:linear-gradient(180deg,#2b0f12,#18090b);border-color:rgba(239,68,68,.4)}
    .ok{background:linear-gradient(180deg,#052e1a,#031d11);border-color:rgba(34,197,94,.4)}
    .tiny{font-size:12px}
    .center{display:flex;justify-content:center;align-items:center}
    .sep{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);margin:18px 0}
    .quote{margin-top:16px;padding:14px 16px;border:1px dashed rgba(255,255,255,.2);border-radius:16px;color:#e5e7eb;background:rgba(255,255,255,.03)}
    /* mobile tweaks */
    @media (max-width:640px){
      .stat-grid{grid-template-columns:1fr 1fr}
    }
    /* Confetti canvas */
    #fx{position:fixed;inset:0;pointer-events:none}
  </style>
</head>
<body>
  <canvas id="fx"></canvas>
  <div class="wrap">
    <div class="card">
      <div class="title-badge">
        <span class="medal" id="medal">üèÅ</span>
        <div>
          <h1>Streak Rank</h1>
          <div class="rank" id="rank">‚Äî</div>
          <div class="muted tiny" id="subtitle">Up only.</div>
        </div>
      </div><div class="stat-grid">
    <div class="stat">
      <div class="muted tiny">STREAK HOURS</div>
      <div class="v" id="hours">0</div>
    </div>
    <div class="stat">
      <div class="muted tiny">STREAK DAYS</div>
      <div class="v" id="days">0</div>
    </div>
    <div class="stat">
      <div class="muted tiny">STARTED</div>
      <div class="v" id="since">‚Äî</div>
    </div>
  </div>

  <div style="margin:16px 0 6px" class="muted tiny">Progress to next rank</div>
  <div class="bar" aria-label="progress">
    <i id="bar" style="width:0%"></i>
  </div>

  <div class="controls">
    <label class="muted tiny" for="startInput">Set/Adjust start:</label>
    <input id="startInput" type="datetime-local" />
    <button class="ok" id="saveStart">Save</button>
    <button class="warn" id="markWin">Beat Urge Now</button>
    <button class="danger ghost" id="reset">Reset Streak</button>
  </div>

  <div class="quote" id="motoline">‚ÄúUrges are lies wrapped in pleasure. Don‚Äôt fall.‚Äù</div>

  <div class="sep"></div>
  <h2>Rank Ladder</h2>
  <div class="ladder" id="ladder"></div>
  <div class="sep"></div>
  <div class="tiny muted">Data is saved locally in your browser (no cloud, no account). Add this page to your home screen for one-tap access.</div>
</div>

  </div>  <script>
    // === Config ===
    const DEFAULT_START_ISO = "2025-08-17T00:00:00+05:30"; // IST
    const QUOTES = [
      "Remember what certain someone told at 5:58pm.",
      "Urges are lies wrapped in pleasure. Don‚Äôt fall.",
      "Strong men build, weak men waste.",
      "Every ‚Äòjust once‚Äô becomes every day.",
      "Be the man you said you‚Äôd be in the morning.",
      "Discipline is remembering what you want."
    ];
    const RANKS = [
      { minDays: 0,   name: "Rookie",       emoji: "üéØ" },
      { minDays: 3,   name: "Fighter",      emoji: "ü•ä" },
      { minDays: 7,   name: "Warrior",      emoji: "‚öîÔ∏è" },
      { minDays: 14,  name: "Veteran",      emoji: "üõ°Ô∏è" },
      { minDays: 21,  name: "Unbreakable",  emoji: "üèÜ" },
      { minDays: 30,  name: "Relentless",   emoji: "üèÖ" },
      { minDays: 60,  name: "Iron Will",    emoji: "ü•á" },
      { minDays: 90,  name: "Prime",        emoji: "üí†" },
    ];

    // === Utilities ===
    const $ = sel => document.querySelector(sel);
    const pad = n => String(n).padStart(2,'0');
    const clamp = (v,min,max)=>Math.min(max,Math.max(min,v));

    function loadStart(){
      const s = localStorage.getItem('streakStartISO') || DEFAULT_START_ISO;
      return new Date(s);
    }
    function saveStart(d){
      localStorage.setItem('streakStartISO', d.toISOString());
    }
    function toLocalDateTimeValue(date){
      // produce yyyy-MM-ddTHH:mm for input
      const dt = new Date(date.getTime() - date.getTimezoneOffset()*60000);
      return dt.toISOString().slice(0,16);
    }
    function fmtDate(d){
      return d.toLocaleString(undefined, { year:'numeric', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit' });
    }

    function getRank(days){
      let current = RANKS[0];
      for (const r of RANKS){ if (days >= r.minDays) current = r; }
      // find next
      const idx = RANKS.findIndex(r=>r.name===current.name);
      const next = RANKS[idx+1] || null;
      return { current, next };
    }

    function renderLadder(days){
      const el = $('#ladder');
      el.innerHTML = '';
      for (let i=0;i<RANKS.length;i++){
        const r = RANKS[i];
        const owned = days >= r.minDays;
        const medal = owned ? '‚úÖ' : 'üîí';
        const rowName = document.createElement('div');
        rowName.textContent = `${r.emoji}  ${r.name}`;
        const rowReq = document.createElement('div');
        rowReq.className='chip'; rowReq.textContent = `${r.minDays}d`;
        const rowHas = document.createElement('div');
        rowHas.className='chip'; rowHas.textContent = medal;
        el.appendChild(rowName); el.appendChild(rowReq); el.appendChild(rowHas);
      }
    }

    function confetti(){
      // ultra-light confetti
      const c = document.getElementById('fx');
      const ctx = c.getContext('2d');
      const W = c.width = innerWidth, H = c.height = innerHeight;
      const N = 120; const P = [];
      for (let i=0;i<N;i++) P.push({x:Math.random()*W, y:-10, v:2+Math.random()*4, s:2+Math.random()*4, r:Math.random()*Math.PI, w:Math.random()*2+1});
      let t=0; const id = setInterval(()=>{
        ctx.clearRect(0,0,W,H);
        for (const p of P){
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r+t*0.05); ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s); ctx.restore();
          p.y += p.v; p.x += Math.sin((p.y+p.s)*0.02)*p.w; if (p.y>H+20) p.y=-10;
        }
        t+=1; if (t>90){ clearInterval(id); ctx.clearRect(0,0,W,H); }
      }, 16);
    }

    function rotateQuote(){
      const q = QUOTES[Math.floor(Math.random()*QUOTES.length)];
      $('#motoline').textContent = `‚Äú${q}‚Äù`;
    }

    function update(){
      const start = loadStart();
      const now = new Date();
      let ms = now - start; if (ms<0) ms = 0;
      const hours = Math.floor(ms/36e5);
      const days = Math.floor(ms/864e5);
      const {current,next} = getRank(days);

      // UI
      $('#hours').textContent = hours.toLocaleString();
      $('#days').textContent = days.toLocaleString();
      $('#since').textContent = fmtDate(start);
      $('#rank').textContent = `${current.emoji} ${current.name}`;
      $('#medal').textContent = current.emoji;

      // progress bar
      let pct = 100;
      if (next){
        const span = next.minDays - current.minDays; // days in rank
        const into = clamp(days - current.minDays, 0, span);
        pct = clamp((into/span)*100, 0, 100);
      }
      $('#bar').style.width = pct.toFixed(1) + '%';

      // rank change celebration
      const lastRank = localStorage.getItem('lastRankName');
      if (lastRank !== current.name){
        if (lastRank !== null) confetti(); // skip on first load
        localStorage.setItem('lastRankName', current.name);
      }

      renderLadder(days);
    }

    function init(){
      // seed default if empty
      if (!localStorage.getItem('streakStartISO')){
        try{ const d = new Date(DEFAULT_START_ISO); localStorage.setItem('streakStartISO', d.toISOString()); }catch{}
      }
      // bind inputs
      const start = loadStart();
      $('#startInput').value = toLocalDateTimeValue(start);
      $('#saveStart').onclick = ()=>{
        const v = $('#startInput').value; // local time
        if (!v) return;
        const d = new Date(v);
        saveStart(d);
        rotateQuote();
        update();
      };
      $('#reset').onclick = ()=>{
        if (confirm('Reset streak to now?')){
          const d = new Date(); saveStart(d); update(); rotateQuote();
        }
      };
      $('#markWin').onclick = ()=>{
        // micro-ritual to reward the moment
        confetti(); rotateQuote();
      };
      update();
      setInterval(update, 60*1000); // keep fresh each minute
      rotateQuote();
    }

    document.addEventListener('DOMContentLoaded', init);
  </script></body>
</html>